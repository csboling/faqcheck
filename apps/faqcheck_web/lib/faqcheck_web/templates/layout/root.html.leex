<!DOCTYPE html>
<html lang="<%= @locale %>">
  <head>
    <%= csrf_meta_tag() %>
    <%= live_title_tag assigns[:page_title] || "FaqcheckWeb" %>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <%= for lang <- Gettext.known_locales(FaqcheckWeb.Gettext) do %>
      <link rel="alternate"
            href="<%= lang_link_self @conn, lang %>"
            hreflang="<%= lang %>">
    <% end %>

    <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/app.css") %>"/>
  </head>
  <body>
    <script defer type="text/javascript" src="<%= Routes.static_path(@conn, "/js/app.js") %>"></script>

    <header>
      <section class="container">
        <nav role="navigation">
    	  <ul>
    	    <li><%= link gettext("%{name} home page", name: "Faqcheck"), to: lang_link([]) %></li>
    	    <%= if @current_user do %>
    	      <li><%= gettext("Signed in as: ") <> @current_user.email %></li>
    	      <li><%= link "Log out", to: Routes.sign_in_path(@conn, :index, @locale) %></li>
    	    <% else %>
    	      <li><%= link "Log in", to: Routes.sign_in_path(@conn, :index, @locale) %></li>
    	    <% end %>
    	  </ul>

	  <details>
	    <summary>assigns</summary>
	    <%= inspect @conn.assigns %>
          </details>
        </nav>
        <nav>
          <ul>
            <%= for lang <- Gettext.known_locales(FaqcheckWeb.Gettext) do %>
              <li>
                <a href="<%= lang_link_self @conn, lang %>"
                   hreflang="<%= lang %>"
                   type="text/html">
                  <%= Gettext.with_locale(FaqcheckWeb.Gettext, lang, fn -> gettext("LANGUAGE_NAME") end) %>
                </a>
              </li>
            <% end %>
          </ul>
        </nav>
      </section>
    </header>

    <main role="main" class="container locale-<%= @locale %>">
      <nav>
        <%= for b <- @breadcrumb do %>
          <%= live_patch b.title, to: b.path %>
          &nbsp;&sol;&nbsp;
        <%  end %>
      </nav>

      <%= @inner_content %>
    </main>

    <hr />

    <footer>
      <center><%= gettext("Software version information:") <> " " <> render_version() %></center>
    </footer>

  </body>
</html>
